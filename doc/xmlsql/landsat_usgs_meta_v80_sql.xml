<?xml version='1.0' encoding='utf-8'?>
<sql>

	<!-- SQL xml read by geomimagine subpackage db_setup -->
	
	<!-- installs the core landsat meta tables, the columns are installed later -->
	
	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'meta_main'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sceneid character(21),
			PRIMARY KEY (sceneid)
		</command>
	</process>
	
	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'meta_sub'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sceneid character(21),
			PRIMARY KEY (sceneid)
		</command>
	</process>
	
	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'meta_geo'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sceneid character(21),
			PRIMARY KEY (sceneid)
		</command>
	</process>

	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'meta_url'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sceneid character(21),
			PRIMARY KEY (sceneid)
		</command>
	</process>

	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'meta_update'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sceneid character(21),
			regdate date default CURRENT_DATE,
			update date,
			PRIMARY KEY (sceneid, regdate, update)
		</command>
	</process>

	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'meta_pixels'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sceneid character(21),
			PRIMARY KEY (sceneid)
		</command>
	</process>

	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'meta_links'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sensor varchar(16),
			csvheader varchar(64),
			xmlparentid varchar(64),
			xmlelement varchar(64),
			metatable varchar(32),
			metacolumn varchar(32),
			metatype  varchar(16),
			metalength integer,
			required char(1),
			defaultvalue varchar(32),
			PRIMARY KEY (sensor,metacolumn)
		</command>
	</process>
	
	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'usgs_bulkmeta'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			sensat char(3),
			sensor varchar(8),
			label varchar(255),
			startdate date,
			enddate date,
			startyear smallint,
			endyear smallint,
			collection char(2),
			xmlurl varchar(255),
			csvgzurl TEXT,
			xmllocal varchar(32),
			csvlocal varchar(32),
			latestdate date,
			PRIMARY KEY (sensat,startdate,collection)
		</command>
	</process>
	
	<process processid ='createtable'>
		<parameters db = 'karttur' schema = 'landsat' table = 'qorder'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			code varchar(16),
			rank smallint,
			PRIMARY KEY (code)
		</command>
	</process>
	
	<process processid ='tableinsert'>
		<parameters db = 'karttur' schema = 'landsat' table = 'qorder'></parameters>
		<overwrite>Y</overwrite>
		<delete>N</delete>
		<command>
			<columns>code,rank</columns>
			<values>'',0</values>
			<values>'FF',0</values>
			<values>'-9',0</values>
			<values>'-99',0</values>
			<values>'PR',10</values>
			<values>'L1G',20</values>
			<values>'L1GS',30</values>
			<values>'L1GT',40</values>
			<values>'L1T',50</values>
			<values>'L1TP',60</values>
			<values>'PC',5</values>
			<values>'01',10</values>
			<values>'02',20</values>
			<values>'RT',1</values>
			<values>'T1',20</values>
			<values>'T2',15</values>
			<values>'T3',10</values>
			<values>'T4',5</values>
		</command>
	</process>
</sql>